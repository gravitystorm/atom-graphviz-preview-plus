/*
 * Generated by state machine cat v1.0.1
 * https://gitlab.com/sverweij/state-machine-cat
 */
graph "state transitions" {
    splines=true ordering=out compound=true overlap=scale K=0.9 epsilon=0.9
    fontname="Helvetica" fontsize=12 penwidth=2.0
    node [shape=Mrecord style=filled fillcolor=white fontname=Helvetica fontsize=12 penwidth=2.0]
    edge [fontname=Helvetica fontsize=10 arrowhead=normal dir=forward]

    "initial" [shape=circle style=filled fillcolor=black fixedsize=true height=0.15 label=""]
    "off" [label="{off|unset speed\ldisengage\l}"]
    subgraph "cluster_on" {
        label="on" style=rounded penwidth=2.0
        "on" [shape=point style=invis margin=0 width=0 height=0]
        "speed not set" [label="{speed not set}"]
        subgraph "cluster_speed set" {
            label="speed set" style=rounded penwidth=2.0
            "speed set" [shape=point style=invis margin=0 width=0 height=0]
            "not engaged" [label="{not engaged}"]
            "engaged" [label="{engaged|init/ remembered speed = speed\l}"]

        }
    }

    "initial" -- "off" [label=" "]
    "off" -- "speed not set" [label="on   \l"]
    "on" -- "off" [label="cancel   \l" ltail="cluster_on"]
    "speed not set" -- "engaged" [label="speed up/   \lspeed = current speed   \l"]
    "speed not set" -- "engaged" [label="speed down/   \lspeed = current speed   \l"]
    "engaged" -- "not engaged" [label="resume   \l"]
    "engaged" -- "engaged" [label="speed up/   \lspeed += 1   \l"]
    "engaged" -- "engaged" [label="speed down/   \lspeed -= 1   \l"]
    "engaged" -- "not engaged" [label="brake pressed   \l"]
    "not engaged" -- "engaged" [label="resume/   \lspeed = remembered speed   \l"]
}
